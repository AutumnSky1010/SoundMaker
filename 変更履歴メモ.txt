Restで矩形波が正しい長さで生成されないバグを修正